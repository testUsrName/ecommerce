<%- include('layout', { 
    title: '商品列表',
    body: `
        <h1 class="text-3xl font-bold mb-6 text-gray-800">商品列表</h1>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <% if (products.length === 0) { %>
                <div class="col-span-full text-center py-10">
                    <p class="text-gray-500 text-lg">暂无商品，请稍后再来查看</p>
                </div>
            <% } else { %>
                <% products.forEach(product => { %>
                    <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition">
                        <a href="/products/<%= product.id %>">
                            <div class="h-48 bg-gray-200 relative">
                                <% if (product.image_url) { %>
                                    <img src="<%= product.image_url %>" alt="<%= product.name %>" class="w-full h-full object-cover">
                                <% } else { %>
                                    <div class="w-full h-full flex items-center justify-center">
                                        <i class="fas fa-box text-5xl text-gray-400"></i>
                                    </div>
                                <% } %>
                                <div class="absolute top-2 right-2 bg-blue-600 text-white text-sm px-2 py-1 rounded">
                                    ¥<%= product.price.toFixed(2) %>
                                </div>
                            </div>
                            <div class="p-4">
                                <h3 class="font-semibold text-lg mb-1"><%= product.name %></h3>
                                <p class="text-gray-500 text-sm mb-2">型号: <%= product.model || '无' %></p>
                                <p class="text-gray-600 text-sm mb-3 truncate"><%= product.description %></p>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-500">库存: <%= product.quantity %></span>
                                    <button class="text-blue-600 hover:text-blue-800 text-sm font-medium">查看详情</button>
                                </div>
                            </div>
                        </a>
                    </div>
                <% }) %>
            <% } %>
        </div>
    `
}) %>
